<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • DataQualityDashboard</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DataQualityDashboard</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../articles/DataQualityDashboard.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Thresholds.html">DQ Check Failure Thresholds</a>
    </li>
    <li>
      <a href="../articles/CheckStatusDefinitions.html">DQ Check Statuses</a>
    </li>
    <li>
      <a href="../articles/AddNewCheck.html">Adding a New Data Quality Check</a>
    </li>
    <li>
      <a href="../articles/DqdForCohorts.html">DQD for Cohorts</a>
    </li>
    <li>
      <a href="../articles/SqlOnly.html">SQL-only Mode</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Data Quality Check Types

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/checkIndex.html">Index</a>
    </li>
    <li>
      <a href="../articles/checks/cdmTable.html">cdmTable</a>
    </li>
    <li>
      <a href="../articles/checks/cdmField.html">cdmField</a>
    </li>
    <li>
      <a href="../articles/checks/cdmDatatype.html">cdmDatatype</a>
    </li>
    <li>
      <a href="../articles/checks/isPrimaryKey.html">isPrimaryKey</a>
    </li>
    <li>
      <a href="../articles/checks/isForeignKey.html">isForeignKey</a>
    </li>
    <li>
      <a href="../articles/checks/isRequired.html">isRequired</a>
    </li>
    <li>
      <a href="../articles/checks/fkDomain.html">fkDomain</a>
    </li>
    <li>
      <a href="../articles/checks/fkClass.html">fkClass</a>
    </li>
    <li>
      <a href="../articles/checks/measurePersonCompleteness.html">measurePersonCompleteness</a>
    </li>
    <li>
      <a href="../articles/checks/measureValueCompleteness.html">measureValueCompleteness</a>
    </li>
    <li>
      <a href="../articles/checks/isStandardValidConcept.html">isStandardValidConcept</a>
    </li>
    <li>
      <a href="../articles/checks/standardConceptRecordCompleteness.html">standardConceptRecordCompleteness</a>
    </li>
    <li>
      <a href="../articles/checks/sourceConceptRecordCompleteness.html">sourceConceptRecordCompleteness</a>
    </li>
    <li>
      <a href="../articles/checks/sourceValueCompleteness.html">sourceValueCompleteness</a>
    </li>
    <li>
      <a href="../articles/checks/plausibleAfterBirth.html">plausibleAfterBirth</a>
    </li>
    <li>
      <a href="../articles/checks/plausibleBeforeDeath.html">plausibleBeforeDeath</a>
    </li>
    <li>
      <a href="../articles/checks/plausibleStartBeforeEnd.html">plausibleStartBeforeEnd</a>
    </li>
    <li>
      <a href="../articles/checks/plausibleValueHigh.html">plausibleValueHigh</a>
    </li>
    <li>
      <a href="../articles/checks/plausibleValueLow.html">plausibleValueLow</a>
    </li>
    <li>
      <a href="../articles/checks/withinVisitDates.html">withinVisitDates</a>
    </li>
    <li>
      <a href="../articles/checks/measureConditionEraCompleteness.html">measureConditionEraCompleteness</a>
    </li>
    <li>
      <a href="../articles/checks/measureObservationPeriodOverlap.html">measureObservationPeriodOverlap</a>
    </li>
    <li>
      <a href="../articles/checks/plausibleUnitConceptIds.html">plausibleUnitConceptIds</a>
    </li>
    <li>
      <a href="../articles/checks/plausibleGenderUseDescendants.html">plausibleGenderUseDescendants</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://ohdsi.github.io/Hades" class="external-link"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a>
</li>
<li>
  <a href="https://github.com/OHDSI/DataQualityDashboard/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/OHDSI/DataQualityDashboard/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="2.8.0" id="dataqualitydashboard-280">DataQualityDashboard 2.8.0<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-280"></a></h2>
<p>This release includes a bugfix in the <code>isStandardValidConcept</code> check. Previously, this check was not flagging records with a valid, non-standard concept in the concept ID field. It was only flagging classification concepts and invalid concepts.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.7.0" id="dataqualitydashboard-270">DataQualityDashboard 2.7.0<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-270"></a></h2>
<p>This release includes:</p>
<div class="section level4">
<h4 id="new-checks-2-7-0">New Checks<a class="anchor" aria-label="anchor" href="#new-checks-2-7-0"></a></h4>
<ul><li>
<strong>measureObservationPeriodOverlap</strong>: This new check identifies overlapping and back-to-back observation periods, which violate CDM conventions and can cause critical issues in analyses using OHDSI tools. See the <a href="https://ohdsi.github.io/DataQualityDashboard/articles/checks/measureObservationPeriodOverlap.html">check documentation</a> for more details!</li>
</ul></div>
<div class="section level4">
<h4 id="check-updates-2-7-0">Check Updates<a class="anchor" aria-label="anchor" href="#check-updates-2-7-0"></a></h4>
<p><strong>Note that these updates may result in significant changes to your DQD results. However, we hope that the results will be more accurate and actionable! Please reach out with any questions or unexpected findings.</strong></p>
<ul><li>Corrected <a href="https://ohdsi.github.io/DataQualityDashboard/articles/checks/measureConditionEraCompleteness.html">measureConditionEraCompleteness</a> logic such that persons with no non-zero <code>condition_concept_id</code>s will <em>not</em> fail the check (it is not required or recommended to create a condition era for unmapped condition occurrences)</li>
<li>Improved <a href="https://ohdsi.github.io/DataQualityDashboard/articles/checks/standardConceptRecordCompleteness.html">standardConceptRecordCompleteness</a> and <a href="https://ohdsi.github.io/DataQualityDashboard/articles/checks/sourceConceptRecordCompleteness.html">sourceConceptRecordCompleteness</a> logic:
<ul><li>Expanded numerator <em>for non-required concept ID fields</em> to include records with NULL concept ID and non-NULL source value
<ul><li>Previously, missing source value mappings - a critical error - were not checked for non-required concept ID fields</li>
<li>NULL required concept ID fields are already checked in <code>isRequired</code>
</li>
</ul></li>
<li>Limited denominator to non-NULL concept ID for required fields, and to non-NULL concept ID <em>or</em> non-NULL source value for non-required fields</li>
<li>Removed the exception which only checked <code>unit_concept_id</code> fields if <code>value_as_number</code> was non-NULL (a missing numeric value does not necessarily mean that a value of 0 is acceptable for the unit concept)</li>
<li>These changes discourage use of 0 as placeholder for missing units/statuses/etc. For non-required fields, concept ID of 0 should only be used if a source value is available</li>
</ul></li>
<li>Refined <code>isStandardValidConcept</code>, adding non-NULL requirements for numerator and denominator in order to remove the overlap between this check and <code>isRequired</code>
</li>
<li>Refined <code>plausibleUnitConceptIds</code> logic:
<ul><li>Added some missing plausible units to the default threshold files</li>
<li>Removed the filter which limited the check to rows with a non-NULL <code>value_as_number</code> - a wrong unit is a wrong unit, regardless of whether a value is available</li>
<li>Added a filter which limits the check to rows with either a non-zero unit or a missing unit, thus removing the overlap between this check and <code>measureStandardConceptCompleteness</code>
</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bugfixes-2-7-0">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-2-7-0"></a></h4>
<ul><li>Fixed Not Applicable status assignment - in certain cases, checks were being marked as NA when they should actually have been failing or passing</li>
<li>Removed <code>PAYER_PLAN_PERIOD.family_source_value</code> from <code>sourceValueCompleteness</code> check in v5.3 default threshold file (this field has no corresponding concept ID field and had this check enabled in error)</li>
<li>Disabled <code>plausibleValueHigh</code> check for <code>DRUG_EXPOSURE.quantity</code> to prevent false positive failures (the default value was in fact plausible for some liquid formulations; in order to accurately measure drug quantity plausibility this check would need to be customized at the concept level)</li>
<li>Casted <code>birth_datetime</code> to date in <code>plausibleAfterBirth</code> to prevent false positive failures for events occurring on the date of birth</li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-2-7-0">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-2-7-0"></a></h4>
<ul><li>Made <code>executeDqChecks</code> return value invisible</li>
<li>Write-to-table functionality improvements:
<ul><li>In the public <code>writeJsonResultsToTable</code> function, an option is now provided to write all results to a single table (the approach used in <code>executeDqChecks</code> when <code>writeToTable</code> = TRUE). <strong>Ulitimately, the approach which writes results to 3 separate tables will be deprecated</strong>; for now, a warning is added to prepare users for this change</li>
<li>Raise warning when write to table fails (previously, failures were silent)</li>
</ul></li>
<li>Added automated tests on DuckDB and IRIS databases</li>
<li>Minor documentation updates</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.3" id="dataqualitydashboard-263">DataQualityDashboard 2.6.3<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-263"></a></h2>
<p>This release includes a patch bugfix for the <code>standardConceptFieldName</code> update described below. The added field names had previously been added in the wrong column of the threshold file; this has now been fixed.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.2" id="dataqualitydashboard-262">DataQualityDashboard 2.6.2<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-262"></a></h2>
<p>This release includes:</p>
<div class="section level4">
<h4 id="bugfixes-2-6-2">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-2-6-2"></a></h4>
<ul><li>Some fields were missing a standardConceptFieldName for the sourceValueCompleteness check, causing those checks to fail with an error. The missing field names have now been added</li>
<li>Many unit plausibility checks were missing legitimate units from the list of plausible units - these have now been updated</li>
<li>Sample results files in the shinyApps folder which had been causing issues for some users in rendering the Shiny app have now been removed</li>
<li>The fkDomain check has been disabled for the episode.episode_object_concept_id and measurement.value_as_concept_id fields, as these fields have multiple acceptable domains. The check can only currently support a single accepted domain</li>
<li>The withinVisitDates check was previously incorrectly categorized as a Conformance check; it has been recategorized as Plausibility</li>
</ul></div>
<div class="section level4">
<h4 id="new-executedqchecks-parameter-2-6-2">New executeDqChecks Parameter<a class="anchor" aria-label="anchor" href="#new-executedqchecks-parameter-2-6-2"></a></h4>
<p>There is now a parameter, <code>checkSeverity</code>, which can be used to limit the execution of DQD to <code>fatal</code>, <code>convention</code>, and/or <code>characterization</code> checks. Fatal checks are checks that should never fail, under any circumstance, as they relate to the relational integrity of the CDM. Convention checks are checks on critical OMOP CDM conventions for which failures should be resolved whenever possible; however, some level of failure is unavoidable (i.e., standard concept mapping for source concepts with no suitable standard concept). Characterization checks provide users with an understanding of the quality of the underlying data and generally will need their thresholds modified to match expectations of the source.</p>
</div>
<div class="section level4">
<h4 id="documentation-2-6-2">Documentation<a class="anchor" aria-label="anchor" href="#documentation-2-6-2"></a></h4>
<ul><li>We added 2 more check documentation pages - all DQ checks now have documentation! Check out the newly added pages <a href="https://ohdsi.github.io/DataQualityDashboard/articles/checkIndex.html">here</a> and please reach out with feedback as we continue improving our documentation!</li>
<li>We fixed a bug in the exclude checks sample code in CodeToRun.R</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.1" id="dataqualitydashboard-261">DataQualityDashboard 2.6.1<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-261"></a></h2>
<p>This release includes:</p>
<div class="section level4">
<h4 id="bugfixes-2-6-1">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-2-6-1"></a></h4>
<ul><li>Checks
<ul><li>
<code>plausibleStartBeforeEnd</code> was failing if SOURCE_RELEASE_DATE was before CDM_RELEASE_DATE in the CDM_SOURCE table. This is the opposite of the correct logic! The check is now updated to fail if the CDM_RELEASE_DATE is before the SOURCE_RELEASE_DATE</li>
<li>
<code>plausibleTemporalAfter</code> was throwing a syntax error in BigQuery due to the format of a hardcoded date in the SQL query. This query has now been updated to be compliant with SqlRender and the issue has been resolved</li>
</ul></li>
<li>A dependency issue was causing <code>viewDqDashboard</code> to error out in newer versions of R. This has now been resolved</li>
<li>
<code>SqlOnly</code> mode was failing due to the format of the new check <code>plausibleGenderUseDescendants</code>, which takes multiple concepts as an input. This has now been fixed</li>
</ul></div>
<div class="section level4">
<h4 id="new-results-field-2-6-1">New Results Field<a class="anchor" aria-label="anchor" href="#new-results-field-2-6-1"></a></h4>
<ul><li>A new field has been added to the DQD results output - <code>executionTimeSeconds</code>. This field stores the execution time in seconds of each check in numeric format. (The existing <code>executionTime</code> field stores execution time as a string, making it difficult to use in analysis.)</li>
</ul></div>
<div class="section level4">
<h4 id="check-threshold-updates-2-6-1">Check Threshold Updates<a class="anchor" aria-label="anchor" href="#check-threshold-updates-2-6-1"></a></h4>
<p>The default thresholds for 2 checks were discovered to be inconsistently populated and occasionally set to illogical levels. These have now been fixed as detailed below.</p>
<ul><li>The default thresholds for <code>sourceValueCompleteness</code> have been updated as follows:
<ul><li>10% for <code>_source_value</code> columns in condition_occurrence, measurement, procedure_occurrence, drug_exposure, and visit_occurrence tables</li>
<li>100% for all other <code>_source_value</code> columns</li>
</ul></li>
<li>The default thresholds for <code>sourceConceptRecordCompleteness</code> have been updated as follows:
<ul><li>10% for <code>_source_concept_id</code> columns in condition_occurrence, drug_exposure, measurement, procedure_occurrence, device_exposure, and observation tables</li>
<li>100% for all other <code>_source_concept_id</code> columns</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="new-documentation-2-6-1">New Documentation<a class="anchor" aria-label="anchor" href="#new-documentation-2-6-1"></a></h4>
<p>We have continued (and nearly completed) our initiative to add more comprehensive user documentation at the data quality check level. A dedicated documentation page is being created for each check type. Each check’s page includes detailed information about how its result is generated and what to do if it fails. Guidance is provided for both ETL developers and data users.</p>
<p>Check out the newly added pages <a href="https://ohdsi.github.io/DataQualityDashboard/articles/checkIndex.html">here</a> and please reach out with feedback as we continue improving our documentation!</p>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.0" id="dataqualitydashboard-260">DataQualityDashboard 2.6.0<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-260"></a></h2>
<p>This release includes:</p>
<div class="section level4">
<h4 id="new-checks-2-6-0">New Checks<a class="anchor" aria-label="anchor" href="#new-checks-2-6-0"></a></h4>
<p>4 new data quality check types have been added in this release:</p>
<ul><li>
<code>plausibleStartBeforeEnd</code>: The number and percent of records with a value in the <strong>cdmFieldName</strong> field of the <strong>cdmTableName</strong> that occurs after the date in the <strong>plausibleStartBeforeEndFieldName</strong>.</li>
<li>
<code>plausibleAfterBirth</code>: The number and percent of records with a date value in the <strong>cdmFieldName</strong> field of the <strong>cdmTableName</strong> table that occurs prior to birth.</li>
<li>
<code>plausibleBeforeDeath</code>: The number and percent of records with a date value in the <strong>cdmFieldName</strong> field of the <strong>cdmTableName</strong> table that occurs after death.</li>
<li>
<code>plausibleGenderUseDescendants</code>: For descendants of CONCEPT_ID <strong>conceptId</strong> (<strong>conceptName</strong>), the number and percent of records associated with patients with an implausible gender (correct gender = <strong>plausibleGenderUseDescendants</strong>).</li>
</ul><p>The 3 temporal plausibilty checks are intended to <strong>replace</strong> <code>plausibleTemporalAfter</code> and <code>plausibleDuringLife</code>, for a more comprehensive and clear approach to various temporality scenarios. <code>plausibleGenderUseDescendants</code> is intended to <strong>replace</strong> <code>plausibleGender</code>, to enhance readability of the DQD results and improve performance. The replaced checks are still available and enabled by default in DQD; however, in a future major release, these checks will be deprecated. Please plan accordingly.</p>
<p>For more information on the new checks, please check the <a href="https://ohdsi.github.io/DataQualityDashboard/articles/CheckTypeDescriptions.html">Check Type Definitions</a> documentation page. If you’d like to disable the deprecated checks, please see the suggested check exclusion workflow in our Getting Started code <a href="https://ohdsi.github.io/DataQualityDashboard/articles/DataQualityDashboard.html">here</a>.</p>
</div>
<div class="section level4">
<h4 id="check-updates-2-6-0">Check Updates<a class="anchor" aria-label="anchor" href="#check-updates-2-6-0"></a></h4>
<ul><li>The number of measurements checked in <code>plausibleUnitConceptIds</code> has been reduced, and the lists of plausible units for those measurements have been re-reviewed and updated for accuracy. This change is intended to improve performance and reliability of this check. Please file an issue if you would like to contribute additional measurements + plausible units to be checked in the future</li>
<li>Some erroneous <code>plausibleValueLow</code> thresholds have been corrected to prevent false positive failures from occurring</li>
</ul></div>
<div class="section level4">
<h4 id="new-documentation-2-6-0">New Documentation<a class="anchor" aria-label="anchor" href="#new-documentation-2-6-0"></a></h4>
<p>We have begun an initiative to add more comprehensive user documentation at the data quality check level. A dedicated documentation page is being created for each check type. Each check’s page will include detailed information about how its result is generated and what to do if it fails. Guidance is provided for both ETL developers and data users.</p>
<p>9 pages have been added so far, and the rest will come in a future release. Check them out <a href="https://ohdsi.github.io/DataQualityDashboard/articles/checkIndex.html">here</a> and please reach out with feedback as we continue improving our documentation!</p>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.5.0" id="dataqualitydashboard-250">DataQualityDashboard 2.5.0<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-250"></a></h2>
<p>This release includes:</p>
<div class="section level4">
<h4 id="new-feature-2-5-0">New Feature<a class="anchor" aria-label="anchor" href="#new-feature-2-5-0"></a></h4>
<p>A new function <code>writeDBResultsToJson</code> which can be used to write DQD results previously written to a database table (by setting <code>writeToTable</code> = TRUE in <code>executeDqChecks</code> or by using the <code>writeJsonResultsToTable</code> function) into a JSON file in the standard DQD JSON format.</p>
</div>
<div class="section level4">
<h4 id="bugfixes-2-5-0">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-2-5-0"></a></h4>
<ul><li>DQD previously threw an error if the CDM_SOURCE table contained more than 1 row. It has now been updated to select a random row from CDM_SOURCE to use for its metadata and warn the user upon doing this. Whether or not CDM_SOURCE <em>should</em> ever contain more than 1 row is still an unresolved discussion in the community. Either way, DQD should be allowed to run if the table has been improperly populated - and perhaps check(s) should be added for its proper use once a convention is finalized</li>
<li>Fixed additional field level checks (fkDomain, fkClass, plausibleTemporalAfter) to incorporate user-specified <code>vocabDatabaseSchema</code> where appropriate</li>
<li>Additional minor bugfixes &amp; refactors</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.4.1" id="dataqualitydashboard-241">DataQualityDashboard 2.4.1<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-241"></a></h2>
<p>This release includes:</p>
<ul><li>Minor documentation updates</li>
<li>A patch for an issue in one of DQD’s transitive dependencies, <code>vroom</code>
</li>
<li>Test suite upgrades to run remote DB tests against OMOP v5.4, and to add Redshift to remote DB tests</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.4.0" id="dataqualitydashboard-240">DataQualityDashboard 2.4.0<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-240"></a></h2>
<p>This release includes:</p>
<div class="section level4">
<h4 id="threshold-file-updates-2-4-0">Threshold file updates<a class="anchor" aria-label="anchor" href="#threshold-file-updates-2-4-0"></a></h4>
<p><strong>The following changes involve updates to the default data quality check threshold files. If you are currently using an older version of DQD and update to v2.4.0, you may see changes in your DQD results. The failure threshold changes are fixes to incorrect thresholds in the v5.4 files and thus should result in more accurate, easier to interpret results. The unit concept ID changes ensure that long-invalid concepts will no longer be accepted as plausible measurement units.</strong></p>
<ul><li>The incorrect failure thresholds for <code>measurePersonCompleteness</code> and <code>measureValueCompleteness</code> were fixed in the v5.4 table &amp; field level threshold files. This issue has existed since v5.4 support was initially added in March 2022
<ul><li>Many <code>measurePersonCompleteness</code> checks had a threshold of 0 when it should have been 95 or 100</li>
<li>Many <code>measureValueCompleteness</code> checks had a threshold of 100 when it should have been 0, and many had no threshold (defaulting to 0) when it should have been 100</li>
<li>The thresholds have now been updated to match expectations for required/non-required tables/fields</li>
</ul></li>
<li>In the v5.2, v5.3, and v5.4 table level threshold files, <code>measurePersonCompleteness</code> for the DEATH table has been toggled to <code>Yes</code>, with a threshold of 100</li>
<li>In the v5.2, v5.3, and v5.4 concept level threshold files, all references to unit concept 9117 in <code>plausibleUnitConceptIds</code> have been updated to 720870. Concept 9117 became non-standard and was replaced with concept 720870, on 28-Mar-2022</li>
<li>In the v5.2, v5.3, and v5.4 concept level threshold files, all references to unit concepts 9258 and 9259 in <code>plausibleUnitConceptIds</code> have been removed. These concepts were deprecated on 05-May-2022</li>
</ul></div>
<div class="section level4">
<h4 id="bugfix-2-4-0">Bugfix<a class="anchor" aria-label="anchor" href="#bugfix-2-4-0"></a></h4>
<ul><li>Call to new function <code>convertJsonResultsFileCase</code> in Shiny app was appended with <code>DataQualityDashboard::</code>. This prevents potential issues related to package loading and function naming conflicts</li>
</ul><p>Some minor refactoring of testthat files and package build configuration and some minor documentation updates were also added in this release.</p>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.3.0" id="dataqualitydashboard-230">DataQualityDashboard 2.3.0<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-230"></a></h2>
<p>This release includes:</p>
<div class="section level4">
<h4 id="new-features-2-3-0">New features<a class="anchor" aria-label="anchor" href="#new-features-2-3-0"></a></h4>
<ul><li>
<em>New SQL-only Mode:</em> Setting <code>sqlOnly</code> and <code>sqlOnlyIncrementalInsert</code> to TRUE in <code>executeDqChecks</code> will return (but not run) a set of SQL queries that, when executed, will calculate the results of the DQ checks and insert them into a database table. Additionally, <code>sqlOnlyUnionCount</code> can be used to specify a number of SQL queries to union for each check type, allowing for parallel execution of these queries and potentially large performance gains. See the <a href="https://ohdsi.github.io/DataQualityDashboard/articles/SqlOnly.html">SqlOnly vignette</a> for details</li>
<li>
<em>Results File Case Converter:</em> The new function <code>convertJsonResultsFileCase</code> can be used to convert the keys in a DQD results JSON file between snakecase and camelcase. This allows reading of v2.1.0+ JSON files in older DQD versions, and other conversions which may be necessary for secondary use of the DQD results file. See <a href="https://ohdsi.github.io/DataQualityDashboard/reference/convertJsonResultsFileCase.html">function documentation</a> for details</li>
</ul></div>
<div class="section level4">
<h4 id="bugfixes-2-3-0">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-2-3-0"></a></h4>
<ul><li>In the v2.1.0 release, all DQD variables were converted from snakecase to camelcase, including those in the results JSON file. This resulted in errors for users trying to view results files generated by older DQD versions in DQD v2.1.0+. This issue has now been fixed. <code>viewDqDashboard</code> will now automatically convert the case of pre-v2.1.0 results files to camelcase so that older results files may be viewed in v2.3.0+</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.2.0" id="dataqualitydashboard-220">DataQualityDashboard 2.2.0<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-220"></a></h2>
<p>This release includes:</p>
<div class="section level4">
<h4 id="new-features-2-2-0">New features<a class="anchor" aria-label="anchor" href="#new-features-2-2-0"></a></h4>
<ul><li>
<code>cohortTableName</code> parameter added to <code>executeDqChecks</code>. Allows user to specify the name of the cohort table when running DQD on a cohort. Defaults to <code>"cohort"</code>
</li>
</ul></div>
<div class="section level4">
<h4 id="bugfixes-2-2-0">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-2-2-0"></a></h4>
<ul><li>Fixed several bugs in the default threshold files:
<ul><li>Updated plausible low value for specimen quantity from 1 to 0</li>
<li>Removed foreign key domains for episode object concept ID (multitude of plausible domains make checking this field infeasible)</li>
<li>Updated date format for hard-coded dates to <code>YYYYMMDD</code> to conform to SqlRender standard</li>
<li>Added DEATH checks to v5.2 and v5.3</li>
<li>Fixed field level checks to incorporate user-specified <code>vocabDatabaseSchema</code> and <code>cohortDatabaseSchema</code> where appropriate</li>
</ul></li>
<li>Removed <code>outputFile</code> parameter from DQD setup vignette (variable not set in script)</li>
<li>Removed hidden BOM character from several threshold csv files, and updated csv read method to account for BOM character moving forward. This character caused an error on some operating systems</li>
</ul><p>And some minor documentation updates for clarity/accuracy.</p>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.1.2" id="dataqualitydashboard-212">DataQualityDashboard 2.1.2<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-212"></a></h2>
<ol style="list-style-type: decimal"><li>Fixing bug in cdmDatatype check SQL that was causing NULL values to fail the check.</li>
</ol></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.1.1" id="dataqualitydashboard-211">DataQualityDashboard 2.1.1<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-211"></a></h2>
<ol style="list-style-type: decimal"><li>Updating author list in DESCRIPTION.</li>
</ol></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.1.0" id="dataqualitydashboard-210">DataQualityDashboard 2.1.0<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-210"></a></h2>
<p>This release includes:</p>
<div class="section level4">
<h4 id="bugfixes-2-1-0">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-2-1-0"></a></h4>
<ul><li>cdmDatatype check, which checks that values in integer columns are integers, updated so that float values will now fail the check</li>
<li>Quotes removed from <code>offset</code> column name in v5.4 thresholds file so that this column is skipped by DQD in all cases (use of reserved word causes failures in some SQL dialects)</li>
<li>Broken images fixed in addNewCheck vignette</li>
</ul></div>
<div class="section level4">
<h4 id="hades-requirements-2-1-0">HADES requirements<a class="anchor" aria-label="anchor" href="#hades-requirements-2-1-0"></a></h4>
<ul><li>All snakecase variables updated to camelcase</li>
<li>Global variable binding R Check note resolved</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0.0" id="dataqualitydashboard-200">DataQualityDashboard 2.0.0<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-200"></a></h2>
<p>This release includes:</p>
<div class="section level4">
<h4 id="new-check-statuses-2-0-0">New check statuses<a class="anchor" aria-label="anchor" href="#new-check-statuses-2-0-0"></a></h4>
<ul><li>
<strong>Not Applicable</strong> identifies checks with no data to support them</li>
<li>
<strong>Error</strong> identifies checks that failed due to a SQL error</li>
</ul></div>
<div class="section level4">
<h4 id="new-checks-2-0-0">New Checks<a class="anchor" aria-label="anchor" href="#new-checks-2-0-0"></a></h4>
<ul><li>
<strong>measureConditionEraCompleteness</strong> checks to make sure that every person with a Condition_Era record have a record in Condition_Occurrence as well</li>
<li>
<strong>withinVisitDates</strong> looks at clinical facts and the visits they are associated with to make sure that the visit dates occur within one week on either side of the visit</li>
<li>
<strong>plausibleUnitConceptIds</strong> identifies records with invalid Unit_Concept_Ids by Measurement_Concept_Id</li>
</ul></div>
<div class="section level4">
<h4 id="outputfolder-input-parameter-2-0-0">outputFolder input parameter<a class="anchor" aria-label="anchor" href="#outputfolder-input-parameter-2-0-0"></a></h4>
<ul><li>The <code>outputFolder</code> parameter for the <code>executeDqChecks</code> function is now REQUIRED and no longer has a default value. <strong>This may be a breaking change for users who have not specified this parameter in their script to run DQD.</strong>
</li>
</ul></div>
<div class="section level4">
<h4 id="removal-of-measurement-plausibility-checks-2-0-0">Removal of measurement plausibility checks<a class="anchor" aria-label="anchor" href="#removal-of-measurement-plausibility-checks-2-0-0"></a></h4>
<ul><li>Most plausibleValueLow and plausibleValueHigh measurement values were removed from the concept check threshold files, due to feedback from the community that many of these ranges included plausible values and as such were causing unexpected check failures. An initiative is planned to reinterrogate these ranges and add them back once the team has higher confidence that they will only flag legitimately implausible values</li>
</ul></div>
<div class="section level4">
<h4 id="integrated-testing-was-also-added-and-the-package-was-refactored-on-the-backend-2-0-0">Integrated testing was also added and the package was refactored on the backend<a class="anchor" aria-label="anchor" href="#integrated-testing-was-also-added-and-the-package-was-refactored-on-the-backend-2-0-0"></a></h4>
</div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.4.1" id="dataqualitydashboard-141">DataQualityDashboard 1.4.1<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-141"></a></h2>
<p>No material changes from v1.4, this adds a correct <code>DESCRIPTION</code> file with the correct DQD version</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.4" id="dataqualitydashboard-14">DataQualityDashboard 1.4<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-14"></a></h2>
<p>This release provides support for <code>CDM v5.4</code> and incorporates minor bug fixes related to incorrectly assigned checks in the control files.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3.1" id="dataqualitydashboard-131">DataQualityDashboard 1.3.1<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-131"></a></h2>
<p>This fixes a small bug and removes a duplicate record in the concept level checks that was throwing an error.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3" id="dataqualitydashboard-13">DataQualityDashboard 1.3<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-13"></a></h2>
<p>This release includes additional concept level checks to support the OHDSI Symposium 2020 study-a-thon and bug fixes to the <code>writeJSONToTable</code> function. This is the release that study-a-thon data partners should use.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.2" id="dataqualitydashboard-12">DataQualityDashboard 1.2<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-12"></a></h2>
<p>This is a bug fix release that updates how notes are viewed in the UI and adds CDM table, field, and check name to the final table.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1" id="dataqualitydashboard-11">DataQualityDashboard 1.1<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-11"></a></h2>
<p>This release of the Data Quality Dashboard incorporates the following features: - Addition of notes fields in the threshold files - Addition of notes to the UI - Functionality to run the DQD on a cohort - Fixes the <code>writeToTable</code>, <code>writeJsonToTable</code> functions</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0" id="dataqualitydashboard-10">DataQualityDashboard 1.0<a class="anchor" aria-label="anchor" href="#dataqualitydashboard-10"></a></h2>
<p>This is the first release of the OHDSI Data Quality Dashboard tool.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Katy Sadowski, Clair Blacketer, Maxim Moinat, Ajit Londhe, Anthony Sena, Anthony Molinaro, Frank DeFalco, Pavel Grafkin.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

      </footer></div>






  </body></html>

