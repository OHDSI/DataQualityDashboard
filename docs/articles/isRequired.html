<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>isRequired ‚Ä¢ DataQualityDashboard</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="isRequired">
<meta property="og:description" content="DataQualityDashboard">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DataQualityDashboard</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/DataQualityDashboard.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CheckTypeDescriptions.html">Check Type Definitions</a>
    </li>
    <li>
      <a href="../articles/Thresholds.html">DQ Check Failure Thresholds</a>
    </li>
    <li>
      <a href="../articles/CheckStatusDefinitions.html">DQ Check Statuses</a>
    </li>
    <li>
      <a href="../articles/AddNewCheck.html">Adding a New Data Quality Check</a>
    </li>
    <li>
      <a href="../articles/DqdForCohorts.html">DQD for Cohorts</a>
    </li>
    <li>
      <a href="../articles/SqlOnly.html">SQL-only Mode</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Data Quality Check Types
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cdmTable.html">cdmTable</a>
    </li>
    <li>
      <a href="../articles/cdmField.html">cdmField</a>
    </li>
    <li>
      <a href="../articles/cdmDatatype.html">cdmDatatype</a>
    </li>
    <li>
      <a href="../articles/isPrimaryKey.html">isPrimaryKey</a>
    </li>
    <li>
      <a href="../articles/isForeignKey.html">isForeignKey</a>
    </li>
    <li>
      <a href="../articles/isRequired.html">isRequired</a>
    </li>
    <li>
      <a href="../articles/fkDomain.html">fkDomain</a>
    </li>
    <li>
      <a href="../articles/fkClass.html">fkClass</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://ohdsi.github.io/Hades" class="external-link">hadesLogo</a>
</li>
<li>
  <a href="https://github.com/OHDSI/DataQualityDashboard/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>isRequired</h1>
                        <h4 data-toc-skip class="author">Katy
Sadowski</h4>
            
            <h4 data-toc-skip class="date">2024-01-02</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/OHDSI/DataQualityDashboard/blob/HEAD/vignettes/isRequired.Rmd" class="external-link"><code>vignettes/isRequired.Rmd</code></a></small>
      <div class="hidden name"><code>isRequired.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="isrequired">isRequired<a class="anchor" aria-label="anchor" href="#isrequired"></a>
</h2>
<p><strong>Check Name</strong>: isRequired <br><strong>Level</strong>:
Field check <br><strong>Context</strong>: Validation
<br><strong>Category</strong>: Conformance
<br><strong>Subcategory</strong>: Relational
<br><strong>Severity</strong>: Fatal üíÄ</p>
<p><strong>Description</strong>: The number and percent of records with
a NULL value in the <strong>cdmFieldName</strong> of the
<strong>cdmTableName</strong> that is considered not nullable</p>
<p><strong>Definition</strong>: This check is meant to ensure that all
NOT NULL constraints specified in the CDM version are followed.</p>
<ul>
<li>
<em>Numerator</em>: The number of rows with a NULL value in the
column</li>
<li>
<em>Denominator</em>: The total number of rows in the table</li>
<li>
<em>Related CDM Convention(s)</em>: ‚ÄúRequired‚Äù flag in <a href="https://ohdsi.github.io/CommonDataModel/index.html" class="external-link">CDM table
specs</a>
</li>
<li>
<em>CDM Fields/Tables</em>: By default, this check runs on all
Required fields in the CDM</li>
</ul>
<p><strong>User Guidance</strong>: A failure in this check means that
NULL values have ended up in a column which should not contain any NULL
values. There is a wide variety of potential causes for this issue
depending on the column in question; your source data; and your ETL
code. Regardless of its cause, it is mandatory to fix the issue by
ensuring there are no failures of this check ‚Äì OHDSI tools/analyses
expect required columns to be non-NULL in all rows.</p>
<p>Inspect failing rows by running the following query:</p>
<pre><code>SELECT 
  '@cdmTableName.@cdmFieldName' AS violating_field, 
  cdmTable.* 
FROM @schema.@cdmTableName cdmTable
WHERE cdmTable.@cdmFieldName IS NULL</code></pre>
<p><em>ETL Developers</em><br>
Recommended actions:</p>
<ul>
<li>To catch this issue further upstream, consider adding a not-null
constraint on the column in your database (if possible)</li>
<li>Fill in the missing values:
<ul>
<li>In some columns, placeholder values are acceptable to replace
missing values. For example, in rows for which there is no
x_source_value or no standard concept mapping, the value 0 should be
placed in the x_concept_id column</li>
<li>Similarly, the CDM documentation suggests derivation/imputation
strategies for certain columns. For example, the visit_end_date column
is required but several options for deriving a placeholder are provided:
<a href="https://ohdsi.github.io/CommonDataModel/cdm54.html#VISIT_OCCURRENCE" class="external-link uri">https://ohdsi.github.io/CommonDataModel/cdm54.html#VISIT_OCCURRENCE</a>.
Consult the documentation for similar conventions on other columns</li>
<li>For missing values in columns in which it is not acceptable to add a
placeholder or derived value (i.e.¬†primary &amp; foreign keys other than
concept IDs), there is likely a corresponding ETL error which needs to
be fixed</li>
</ul>
</li>
<li>If you are unable to fill in the missing value for a record
according to the CDM conventions, it is best to remove the record from
your database. It is recommended to document this action for data users,
especially if you need to do this for more than a handful of records
and/or if there is a pattern to the missing data</li>
</ul>
<p><em>Data Users</em><br>
This is a critical failure as it can impact joins and calculations
involving required fields which assume all values are non-NULL. Events
missing a concept, start date, or person ID will not be able to be
included in cohorts. Rows missing a primary key violate fundamental
database integrity principles and could cause a host of downstream
issues. It is also possible that some tools or analysis code have
assumptions around the availability of data in required columns which
may throw errors due to missing values.</p>
<p>If your data provider is unable or unwilling to address the issue and
only a small proportion of rows are affected, proceed at your own risk
with the dataset. If you do so, it is a best practice to interrogate
whether the affected rows could have played any role in your analysis.
If a large proportion of rows are affected, the dataset should not be
used until the issue is fixed.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Katy Sadowski, Clair Blacketer, Ajit Londhe, Anthony Sena, Anthony Molinaro, Frank DeFalco, Pavel Grafkin.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
